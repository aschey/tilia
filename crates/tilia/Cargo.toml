[package]
edition = "2021"
name = "tilia"
version = "0.1.0"

[dependencies]
async-trait = "0.1"
background-service = { git = "https://github.com/aschey/background-service-rs", rev = "639911fe9bfee863c35dbab967185dae6a4a395f" }
bytes = "1"
futures = "0.3"
futures-cancel = { git = "https://github.com/aschey/futures-cancel", rev = "563f413a206c50c7cc1a003cf6a9d3b227b0b04d" }
once_cell = "1"
parity-tokio-ipc = "0.9"
tokio = { version = "1", features = [
    "sync",
    "rt-multi-thread",
    "macros",
    "time",
    "io-util",
] }
bollard = { version = "0.14", optional = true }
pin-project-lite = { version = "0.2", optional = true }
tokio-util = "0.7"
tower = { version = "0.4", features = ["reconnect"] }
tower-rpc = { git = "https://github.com/aschey/tower-rpc", rev = "4314c2f8b2e49c6ad48138bbacf581f83c5f084e", features = [
    "client",
    "server",
] }

tracing = "0.1"
tracing-subscriber = "0.3"

[features]
tcp = ["tower-rpc/tcp"]
ipc = ["tower-rpc/ipc"]
docker = ["bollard", "pin-project-lite"]
